{"version":3,"sources":["i18n.js","Routes/constants.js","Pages/Article/index.js","Hooks/useFetch.js","Hooks/useLocalStorage.js","API/constants.js","Pages/GlobalFeed/index.js","Contexts/currentUser.js","Pages/Authentication/index.js","Pages/NoMatch/index.js","Routes/Routes.js","Components/TopBar/index.js","Constants/common.js","Components/BackendErrors/index.js","Components/Feed/index.js","HOCs/CurrentUserChecker/index.js","index.js"],"names":["i18n","use","LanguageDetector","initReactI18next","init","debug","fallbackLng","interpolation","escapeValue","resources","en","translation","common","email","signIn","signUp","home","password","username","newPost","loading","auth","needAccount","haveAccount","globalFeed","title","bannerTitle","bannerDescription","article","readMore","errors","ROUTES","Object","freeze","main","articles","login","register","newArticle","profiles","Article","t","useTranslation","useFetch","url","useState","isLoading","setIsLoading","response","setResponse","error","setError","options","setOptions","useLocalStorage","token","doFetch","useCallback","useEffect","requestOptions","headers","authorization","axios","then","res","data","catch","err","finally","key","initialValue","localStorage","getItem","value","setValue","setItem","PATHS","currentUser","GlobalFeed","apiUrl","className","CurrentUserContext","createContext","CurrentUserProvider","children","isLoggedIn","state","setState","Provider","Authentication","props","isLogin","match","path","pageTitle","descriptionLink","descriptionText","setEmail","setPassword","setUsername","isSuccessfulSubmit","setIsSuccessfulSubmit","setToken","useContext","setCurrentUserState","user","to","onSubmit","e","preventDefault","method","backendErrors","type","placeholder","onChange","target","disabled","NoMatch","style","display","justifyContent","padding","Routes","component","exact","process","TopBar","src","image","alt","BackendErrorMessages","errorMessages","entries","map","name","messages","join","errorMessage","Feed","index","author","createdAt","slug","description","tagList","tag","CurrentUserChecker","Router","HashRouter","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c1100a3d.chunk.js","sourcesContent":["import i18n from 'i18next'\nimport {initReactI18next} from 'react-i18next'\nimport LanguageDetector from 'i18next-browser-languagedetector'\n\ni18n\n  // detect user language\n  // learn more: https://github.com/i18next/i18next-browser-languageDetector\n  .use(LanguageDetector)\n  // pass the i18n instance to react-i18next.\n  .use(initReactI18next)\n  // init i18next\n  // for all options read: https://www.i18next.com/overview/configuration-options\n  .init({\n    debug: true,\n    fallbackLng: 'en',\n    interpolation: {\n      escapeValue: false, // not needed for react as it escapes by default\n    },\n    resources: {\n      en: {\n        translation: {\n          // here we will place our translations...\n          common: {\n            email: 'Email',\n            signIn: 'Sign in',\n            signUp: 'Sign up',\n            home: 'Home',\n            password: 'Password',\n            username: 'Username',\n            newPost: 'New Post',\n            loading: 'Loading...',\n          },\n          auth: {\n            needAccount: 'Need an account?',\n            haveAccount: 'Have an account?',\n          },\n          globalFeed: {\n            title: 'Global Feed',\n            bannerTitle: 'Medium clone',\n            bannerDescription: 'A place to share knowledge.',\n          },\n          article: {\n            title: 'Article',\n            readMore: 'Read more...',\n          },\n          errors: {\n            common: 'Some error happened',\n          },\n        },\n      },\n    },\n  })\n\nexport default i18n\n","export const ROUTES = Object.freeze({\n  main: '/',\n  article: '/article',\n  articles: '/articles',\n  login: '/login',\n  register: '/register',\n  newArticle: '/articles/new',\n  profiles: '/profiles',\n})\n","import React from 'react'\nimport {useTranslation} from 'react-i18next'\n\nexport const Article = () => {\n  const {t} = useTranslation()\n\n  return <div>{t('article.title')}</div>\n}\n","import {useState, useEffect, useCallback} from 'react'\r\nimport axios from 'axios'\r\n\r\nimport {useLocalStorage} from 'Hooks'\r\n\r\nexport const useFetch = url => {\r\n  const baseUrl = 'https://conduit.productionready.io/api'\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [response, setResponse] = useState(null)\r\n  const [error, setError] = useState(null)\r\n  const [options, setOptions] = useState({})\r\n  const [token] = useLocalStorage('token')\r\n\r\n  const doFetch = useCallback((options = {}) => {\r\n    setOptions(options)\r\n    setIsLoading(true)\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (!isLoading) return\r\n\r\n    const requestOptions = {\r\n      ...options,\r\n      headers: {\r\n        authorization: token ? `Token ${token}` : '',\r\n      },\r\n    }\r\n\r\n    axios(baseUrl + url, requestOptions)\r\n      .then(res => {\r\n        setResponse(res.data)\r\n      })\r\n      .catch(err => {\r\n        setError(err.response.data)\r\n      })\r\n      .finally(() => {\r\n        setIsLoading(false)\r\n      })\r\n  }, [isLoading, options, token, url])\r\n\r\n  return [{isLoading, response, error}, doFetch]\r\n}\r\n","import {useState, useEffect} from 'react'\r\n\r\nexport const useLocalStorage = (key, initialValue = '') => {\r\n  const [value, setValue] = useState(\r\n    () => localStorage.getItem(key) || initialValue\r\n  )\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(key, value)\r\n  }, [key, value])\r\n\r\n  return [value, setValue]\r\n}\r\n","export const PATHS = Object.freeze({\r\n  login: '/users/login',\r\n  register: '/users',\r\n  currentUser: '/user',\r\n  articles: '/articles',\r\n})\r\n","import React, {useEffect} from 'react'\nimport {useTranslation} from 'react-i18next'\n\nimport {useFetch} from 'Hooks'\nimport {PATHS} from 'API'\nimport {Feed} from 'Components'\n\nexport const GlobalFeed = () => {\n  const {t} = useTranslation()\n  const apiUrl = `${PATHS.articles}?limit=10&offset=0`\n  const [{response, isLoading, error}, doFetch] = useFetch(apiUrl)\n\n  useEffect(() => {\n    doFetch()\n  }, [doFetch])\n\n  return (\n    <div className=\"home-page\">\n      <div className=\"banner\">\n        <div className=\"container\">\n          <h1>{t('globalFeed.bannerTitle')}</h1>\n          <p>{t('globalFeed.bannerDescription')}</p>\n        </div>\n      </div>\n\n      <div className=\"container page\">\n        <div className=\"row\">\n          <div className=\"col-md-9\">\n            {isLoading && <div>{t('common.loading')}</div>}\n            {error && <div>{t('errors.common')}</div>}\n            {!isLoading && response && <Feed articles={response.articles} />}\n          </div>\n          <div className=\"col-md-3\">Popular tags</div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React, {createContext, useState} from 'react'\r\n\r\nexport const CurrentUserContext = createContext([{}, () => {}])\r\n\r\nexport const CurrentUserProvider = ({children}) => {\r\n  const [state, setState] = useState({\r\n    isLoading: false,\r\n    isLoggedIn: null,\r\n    currentUser: null,\r\n  })\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={[state, setState]}>\r\n      {children}\r\n    </CurrentUserContext.Provider>\r\n  )\r\n}\r\n","import React, {useState, useEffect, useContext} from 'react'\r\nimport {Link, Redirect} from 'react-router-dom'\r\nimport {useTranslation} from 'react-i18next'\r\n\r\nimport {ROUTES} from 'Routes'\r\nimport {useFetch, useLocalStorage} from 'Hooks'\r\nimport {PATHS} from 'API'\r\nimport {CurrentUserContext} from 'Contexts'\r\nimport {BackendErrorMessages} from 'Components'\r\n\r\nexport const Authentication = props => {\r\n  const {t} = useTranslation()\r\n  const isLogin = props.match.path === ROUTES.login\r\n  const pageTitle = isLogin ? t('common.signIn') : t('common.signUp')\r\n  const descriptionLink = isLogin ? ROUTES.register : ROUTES.login\r\n  const descriptionText = isLogin\r\n    ? t('auth.needAccount')\r\n    : t('auth.haveAccount')\r\n  const apiUrl = isLogin ? PATHS.login : PATHS.register\r\n  const [{isLoading, response, error}, doFetch] = useFetch(apiUrl)\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [username, setUsername] = useState('')\r\n  const [isSuccessfulSubmit, setIsSuccessfulSubmit] = useState(false)\r\n  const [, setToken] = useLocalStorage('token')\r\n  const [, setCurrentUserState] = useContext(CurrentUserContext)\r\n\r\n  const handleSubmit = e => {\r\n    const user = isLogin ? {email, password} : {username, email, password}\r\n\r\n    e.preventDefault()\r\n    setCurrentUserState(state => ({\r\n      ...state,\r\n      isLoading: true,\r\n    }))\r\n    doFetch({\r\n      method: 'post',\r\n      data: {user},\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!response) return\r\n\r\n    setToken(response.user.token)\r\n    setIsSuccessfulSubmit(true)\r\n    setCurrentUserState(state => ({\r\n      ...state,\r\n      isLoggedIn: true,\r\n      isLoading: false,\r\n      currentUser: response.user,\r\n    }))\r\n  }, [response, setCurrentUserState, setToken])\r\n\r\n  if (isSuccessfulSubmit) return <Redirect to={ROUTES.main} />\r\n\r\n  return (\r\n    <div className=\"auth-page\">\r\n      <div className=\"container page\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-6 offset-md-3 col-xs-12\">\r\n            <h2 className=\"text-xs-center\">{pageTitle}</h2>\r\n\r\n            <p className=\"text-xs-center\">\r\n              <Link to={descriptionLink}>{descriptionText}</Link>\r\n            </p>\r\n\r\n            <form onSubmit={handleSubmit}>\r\n              {error && <BackendErrorMessages backendErrors={error.errors} />}\r\n              <fieldset>\r\n                {!isLogin && (\r\n                  <fieldset className=\"form-group\">\r\n                    <input\r\n                      className=\"form-control form-control-lg\"\r\n                      type=\"text\"\r\n                      placeholder={t('common.username')}\r\n                      value={username}\r\n                      onChange={e => setUsername(e.target.value)}\r\n                    />\r\n                  </fieldset>\r\n                )}\r\n\r\n                <fieldset className=\"form-group\">\r\n                  <input\r\n                    className=\"form-control form-control-lg\"\r\n                    type=\"email\"\r\n                    placeholder={t('common.email')}\r\n                    value={email}\r\n                    onChange={e => setEmail(e.target.value)}\r\n                  />\r\n                </fieldset>\r\n\r\n                <fieldset className=\"form-group\">\r\n                  <input\r\n                    className=\"form-control form-control-lg\"\r\n                    type=\"password\"\r\n                    placeholder={t('common.password')}\r\n                    value={password}\r\n                    onChange={e => setPassword(e.target.value)}\r\n                  />\r\n                </fieldset>\r\n\r\n                <button\r\n                  className=\"btn btn-lg btn-primary pull-xs-right\"\r\n                  type=\"submit\"\r\n                  disabled={isLoading}\r\n                >\r\n                  {pageTitle}\r\n                </button>\r\n              </fieldset>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport const NoMatch = () => {\r\n  return (\r\n    <div\r\n      style={{display: 'flex', justifyContent: 'center', padding: '200px 0'}}\r\n    >\r\n      <h2>Page Not Found</h2>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport {Switch, Route, Redirect} from 'react-router-dom'\r\n\r\nimport {GlobalFeed, Article, Authentication, NoMatch} from 'Pages'\r\nimport {ROUTES} from './constants'\r\n\r\nexport const Routes = () => {\r\n  return (\r\n    <Switch>\r\n      <Route path={ROUTES.main} component={GlobalFeed} exact />\r\n      <Route path={ROUTES.login} component={Authentication} exact />\r\n      <Route path={ROUTES.register} component={Authentication} exact />\r\n      <Route path={`${ROUTES.articles}/:slug`} component={Article} exact />\r\n\r\n      {/* TODO: Remove when another decision for package['homepage'] is found */}\r\n      {process.env.NODE_ENV === 'development' && (\r\n        <Route path={process.env.PUBLIC_URL}>\r\n          <Redirect to=\"/\" />\r\n        </Route>\r\n      )}\r\n\r\n      <Route path=\"*\" component={NoMatch} />\r\n    </Switch>\r\n  )\r\n}\r\n","import React, {useContext} from 'react'\r\nimport {Link, NavLink} from 'react-router-dom'\r\nimport {useTranslation} from 'react-i18next'\r\n\r\nimport {ROUTES} from 'Routes'\r\nimport {APP_NAME} from 'Constants'\r\nimport {CurrentUserContext} from 'Contexts'\r\n\r\nexport const TopBar = () => {\r\n  const {t} = useTranslation()\r\n  const [{isLoggedIn, currentUser}] = useContext(CurrentUserContext)\r\n\r\n  return (\r\n    <nav className=\"navbar navbar-light\">\r\n      <div className=\"container\">\r\n        <h1>\r\n          <Link to={ROUTES.main} className=\"navbar-brand\">\r\n            {APP_NAME}\r\n          </Link>\r\n        </h1>\r\n\r\n        <ul className=\"nav navbar-nav pull-xs-right\">\r\n          <li className=\"nav-item\">\r\n            <NavLink exact to={ROUTES.main} className=\"nav-link\">\r\n              {t('common.home')}\r\n            </NavLink>\r\n          </li>\r\n\r\n          {isLoggedIn === false && (\r\n            <>\r\n              <li className=\"nav-item\">\r\n                <NavLink to={ROUTES.login} className=\"nav-link\">\r\n                  {t('common.signIn')}\r\n                </NavLink>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <NavLink to={ROUTES.register} className=\"nav-link\">\r\n                  {t('common.signUp')}\r\n                </NavLink>\r\n              </li>\r\n            </>\r\n          )}\r\n\r\n          {isLoggedIn && (\r\n            <>\r\n              <li className=\"nav-item\">\r\n                <NavLink to={ROUTES.newArticle} className=\"nav-link\">\r\n                  <i className=\"ion-compose\"></i>\r\n                  &nbsp; {t('common.newPost')}\r\n                </NavLink>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <NavLink\r\n                  to={`${ROUTES.profiles}/${currentUser.username}`}\r\n                  className=\"nav-link\"\r\n                >\r\n                  <img className=\"user-pic\" src={currentUser.image} alt=\"\" />\r\n                  &nbsp; {currentUser.username}\r\n                </NavLink>\r\n              </li>\r\n            </>\r\n          )}\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n","export const APP_NAME = 'Medium'\n","import React from 'react'\r\n\r\nexport const BackendErrorMessages = ({backendErrors}) => {\r\n  const errorMessages = Object.entries(backendErrors).map(\r\n    ([name, messages]) => `${name} ${messages.join(' ')}`\r\n  )\r\n\r\n  return (\r\n    <ul className=\"error-messages\">\r\n      {errorMessages.map(errorMessage => (\r\n        <li key={errorMessage}>{errorMessage}</li>\r\n      ))}\r\n    </ul>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport {useTranslation} from 'react-i18next'\r\n\r\nimport {ROUTES} from 'Routes'\r\n\r\nexport const Feed = ({articles}) => {\r\n  const {t} = useTranslation()\r\n\r\n  return (\r\n    <div>\r\n      {articles.map(\r\n        ({author, createdAt, slug, title, description, tagList}, index) => (\r\n          <div key={index} className=\"article-preview\">\r\n            <div className=\"article-meta\">\r\n              <Link to={`${ROUTES.profiles}/${author.username}`}>\r\n                <img src={author.image} alt=\"\" />\r\n              </Link>\r\n\r\n              <div className=\"info\">\r\n                <Link\r\n                  to={`${ROUTES.profiles}/${author.username}`}\r\n                  className=\"author\"\r\n                >\r\n                  {author.username}\r\n                </Link>\r\n                <span className=\"date\">{createdAt}</span>\r\n              </div>\r\n            </div>\r\n\r\n            <Link to={`${ROUTES.article}/${slug}`} className=\"preview-link\">\r\n              <h1>{title}</h1>\r\n              <p>{description}</p>\r\n              <span>{t('article.readMore')}</span>\r\n              <ul className=\"tag-list\">\r\n                {tagList.map(tag => (\r\n                  <li key={tag} className=\"tag-default tag-pill tag-outline\">\r\n                    {tag}\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </Link>\r\n          </div>\r\n        )\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","import {useEffect, useContext} from 'react'\r\n\r\nimport {useFetch, useLocalStorage} from 'Hooks'\r\nimport {PATHS} from 'API'\r\nimport {CurrentUserContext} from 'Contexts'\r\n\r\nexport const CurrentUserChecker = ({children}) => {\r\n  const [{response}, doFetch] = useFetch(PATHS.currentUser)\r\n  const [, setCurrentUserState] = useContext(CurrentUserContext)\r\n  const [token] = useLocalStorage('token')\r\n\r\n  useEffect(() => {\r\n    if (!token) {\r\n      setCurrentUserState(state => ({\r\n        ...state,\r\n        isLoggedIn: false,\r\n      }))\r\n\r\n      return\r\n    }\r\n\r\n    setCurrentUserState(state => ({\r\n      ...state,\r\n      isLoading: true,\r\n    }))\r\n    doFetch()\r\n  }, [setCurrentUserState, doFetch, token])\r\n\r\n  useEffect(() => {\r\n    if (!response) return\r\n\r\n    setCurrentUserState(state => ({\r\n      ...state,\r\n      currentUser: response.user,\r\n      isLoading: false,\r\n      isLoggedIn: true,\r\n    }))\r\n  }, [response, setCurrentUserState])\r\n\r\n  return children\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport {BrowserRouter, HashRouter} from 'react-router-dom'\r\n\r\nimport './i18n'\r\nimport {TopBar} from 'Components'\r\nimport {Routes} from 'Routes'\r\nimport {CurrentUserProvider} from 'Contexts'\r\nimport {CurrentUserChecker} from 'HOCs'\r\n\r\nconst Router =\r\n  process.env.NODE_ENV === 'development' ? BrowserRouter : HashRouter\r\n\r\nconst App = () => {\r\n  return (\r\n    <CurrentUserProvider>\r\n      <CurrentUserChecker>\r\n        <Router>\r\n          <TopBar />\r\n\r\n          <Routes />\r\n        </Router>\r\n      </CurrentUserChecker>\r\n    </CurrentUserProvider>\r\n  )\r\n}\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}