(this["webpackJsonpmedium-react-hooks"]=this["webpackJsonpmedium-react-hooks"]||[]).push([[0],{47:function(e,t,a){e.exports=a(84)},84:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(39),l=a.n(r),o=a(3),s=a(34),i=a(5),m=a(43),u={en:{translation:{common:{email:"Email",signIn:"Sign in",signUp:"Sign up",home:"Home",password:"Password",username:"Username",newPost:"New Post",loading:"Loading...",pageNotFound:"Page Not Found",popularTags:"Popular tags",yourFeed:"Your feed",globalFeed:"Global feed",noArticlesYet:"No articles are here... yet.",readMore:"Read more...",settings:"Settings"},auth:{needAccount:"Need an account?",haveAccount:"Have an account?"},globalFeed:{title:"Global Feed",bannerTitle:"Medium clone",bannerDescription:"A place to share knowledge."},errors:{general:"Something went wrong"},articleForm:{titlePlaceholder:"Article title",descriptionPlaceholder:"What is this article about?",bodyPlaceholder:"Write your article (in markdown)",tagListPlaceholder:"Enter tags",submitButton:"Publish Article"},article:{edit:"Edit Article",delete:"Delete Article"},settings:{title:"Your settings",profilePicturePlaceholder:"URL of profile picture",bioPlaceholder:"Short bio",update:"Update settings",logout:"Or click here to logout"},profile:{posts:"My Posts",favorites:"Favorites Posts"}}}};s.a.use(m.a).use(i.a).init({fallbackLng:"en",interpolation:{escapeValue:!1},resources:u});s.a;var f=a(2),E=Object.freeze({main:"/",articles:"/articles",login:"/login",register:"/register",newArticle:"/articles/new",profiles:"/profiles",tags:"/tags",feed:"/feed",settings:"/settings"}),d=a(6),g=a(8),p=a(86),b=function(e){var t=Object(n.useState)(!1),a=Object(f.a)(t,2),c=a[0],r=a[1],l=Object(n.useState)(null),o=Object(f.a)(l,2),s=o[0],i=o[1],m=Object(n.useState)(null),u=Object(f.a)(m,2),E=u[0],d=u[1],b=Object(n.useState)({}),N=Object(f.a)(b,2),O=N[0],j=N[1],h=v("token"),y=Object(f.a)(h,1)[0],w=Object(n.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};j(e),r(!0)}),[]);return Object(n.useEffect)((function(){var t=!1;if(c){var a=Object(g.a)(Object(g.a)({},O),{},{headers:{authorization:y?"Token ".concat(y):""}});return Object(p.a)("https://conduit.productionready.io/api"+e,a).then((function(e){t||i(e.data)})).catch((function(e){t||d(e.response.data)})).finally((function(){t||r(!1)})),function(){t=!0}}}),[c,O,y,e]),[{isLoading:c,response:s,error:E},w]},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=Object(n.useState)((function(){return localStorage.getItem(e)||t})),c=Object(f.a)(a,2),r=c[0],l=c[1];return Object(n.useEffect)((function(){localStorage.setItem(e,r)}),[e,r]),[r,l]},N=Object.freeze({login:"/users/login",register:"/users",currentUser:"/user",articles:"/articles",tags:"/tags",feed:"/articles/feed",profiles:"/profiles"}),O=function(e){var t=e.tags;return t.length>0?c.a.createElement("ul",{className:"tag-list"},t.map((function(e){return c.a.createElement("li",{key:e,className:"tag-default tag-pill tag-outline"},e)}))):null},j={isLoading:!1,isLoggedIn:null,currentUser:null},h=function(e,t){switch(t.type){case"LOADING":return Object(g.a)(Object(g.a)({},e),{},{isLoading:!0});case"SET_AUTHORIZED":return Object(g.a)(Object(g.a)({},e),{},{isLoggedIn:!0,isLoading:!1,currentUser:t.payload});case"SET_UNAUTHORIZED":return Object(g.a)(Object(g.a)({},e),{},{isLoggedIn:!1});case"LOGOUT":return Object(g.a)(Object(g.a)({},j),{},{isLoggedIn:!1});default:return e}},y=Object(n.createContext)(),w=function(e){var t=e.children,a=Object(n.useReducer)(h,j);return c.a.createElement(y.Provider,{value:a},t)},S=function(e){var t=e.article,a=t.title,r=t.author,l=t.createdAt,s=t.slug,m=e.deleteArticle,u=Object(i.b)().t,d=Object(n.useContext)(y),g=Object(f.a)(d,1)[0],p=Boolean(g.isLoggedIn)&&r.username===g.currentUser.username;return c.a.createElement("div",{className:"banner"},c.a.createElement("div",{className:"container"},c.a.createElement("h1",null,a),c.a.createElement("div",{className:"article-meta"},c.a.createElement(o.b,{to:"".concat(E.profiles,"/").concat(r.username)},c.a.createElement("img",{src:r.image,alt:""})," "),c.a.createElement("div",{className:"info"},c.a.createElement(o.b,{to:"".concat(E.profiles,"/").concat(r.username)},r.username),c.a.createElement("span",{className:"date"},l)),p&&c.a.createElement("span",null,c.a.createElement(o.b,{className:"btn btn-outline-secondary btn-sm",to:"".concat(E.articles,"/").concat(s,"/").concat("edit")},c.a.createElement("i",{className:"ion-edit"}),"\xa0",u("article.edit")),"\xa0",c.a.createElement("button",{className:"btn btn-outline-danger btn-sm",onClick:m},c.a.createElement("i",{className:"ion-trash-a"}),"\xa0",u("article.delete"))))))},x=function(e){var t=e.match.params.slug,a="".concat(N.articles,"/").concat(t),r=b(a),l=Object(f.a)(r,2),o=l[0],s=o.response,i=o.isLoading,m=o.error,u=l[1],g=b(a),p=Object(f.a)(g,2),v=p[0].response,j=p[1],h=Object(n.useState)(!1),y=Object(f.a)(h,2),w=y[0],x=y[1];return Object(n.useEffect)((function(){u()}),[u]),Object(n.useEffect)((function(){null!==v&&x(!0)}),[v]),w?c.a.createElement(d.a,{to:E.main}):c.a.createElement("div",{className:"article-page"},!i&&s&&c.a.createElement(S,{article:s.article,deleteArticle:function(){j({method:"delete"})}}),c.a.createElement("div",{className:"container page"},i&&c.a.createElement(ce,null),m&&c.a.createElement(re,null),!i&&s&&c.a.createElement("div",{className:"row article-content"},c.a.createElement("div",{className:"col-xs-12"},c.a.createElement("div",null,c.a.createElement("p",null,s.article.body)),c.a.createElement(O,{tags:s.article.tagList})))))},L=a(17),k=a(45),C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=Object(L.parse)(e),n=a.page,c=n?Number(n):1,r=c*t-t;return{currentPage:c,offset:r}},P=function(e){var t=e.location,a=C(t.search),r=a.currentPage,l=a.offset,o=Object(L.stringify)({limit:10,offset:l}),s="".concat(N.articles,"?").concat(o),i=b(s),m=Object(f.a)(i,2),u=m[0],E=u.response,d=u.isLoading,g=u.error,p=m[1],v=Object(n.useContext)(y),O=Object(f.a)(v,1)[0];return Object(n.useEffect)((function(){p()}),[p,r]),c.a.createElement("div",{className:"home-page"},!1===O.isLoggedIn&&c.a.createElement(ie,null),c.a.createElement("div",{className:"container page"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-9"},c.a.createElement(le,null),d&&c.a.createElement(ce,{className:"article-preview"}),g&&c.a.createElement(re,{className:"article-preview"}),!d&&E&&c.a.createElement(c.a.Fragment,null,c.a.createElement(X,{articles:E.articles}),c.a.createElement(ae,{total:E.articlesCount,limit:10,currentPage:r}))),c.a.createElement("div",{className:"col-md-3"},c.a.createElement(ne,null)))))},U=function(e){var t=e.isLoginView,a=Object(i.b)().t,n=a(t?"common.signIn":"common.signUp"),r=a(t?"auth.needAccount":"auth.haveAccount"),l=t?E.register:E.login;return c.a.createElement(c.a.Fragment,null,c.a.createElement("h2",{className:"text-xs-center"},n),c.a.createElement("p",{className:"text-xs-center"},c.a.createElement(o.b,{to:l},r)))},F=function(e){var t=Object(i.b)().t,a=e.match.path===E.login,r=t(a?"common.signIn":"common.signUp"),l=a?N.login:N.register,o=Object(n.useState)(""),s=Object(f.a)(o,2),m=s[0],u=s[1],g=Object(n.useState)(""),p=Object(f.a)(g,2),O=p[0],j=p[1],h=Object(n.useState)(""),w=Object(f.a)(h,2),S=w[0],x=w[1],L=function(e){var t=b(e),a=Object(f.a)(t,2),c=a[0],r=c.isLoading,l=c.response,o=c.error,s=a[1],i=v("token"),m=Object(f.a)(i,2),u=m[0],E=m[1],d=Object(n.useContext)(y),g=Object(f.a)(d,2),p=g[0],N=g[1];return Object(n.useEffect)((function(){l&&(E(l.user.token),N({type:"SET_AUTHORIZED",payload:l.user}))}),[N,l,E]),[{isLoading:r,error:o,token:u,currentUserState:p},function(e){N({type:"LOADING"}),s({method:"post",data:{user:e}})}]}(l),k=Object(f.a)(L,2),C=k[0],P=C.isLoading,F=C.error,A=C.currentUserState,I=k[1];return A.isLoggedIn?c.a.createElement(d.a,{to:E.feed}):c.a.createElement("div",{className:"auth-page"},c.a.createElement("div",{className:"container page"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-6 offset-md-3 col-xs-12"},c.a.createElement(U,{isLoginView:a}),c.a.createElement("form",{onSubmit:function(e){var t=a?{email:m,password:O}:{username:S,email:m,password:O};e.preventDefault(),I(t)}},F&&c.a.createElement(K,{backendErrors:F.errors}),c.a.createElement("fieldset",null,!a&&c.a.createElement("fieldset",{className:"form-group"},c.a.createElement("input",{className:"form-control form-control-lg",type:"text",placeholder:t("common.username"),value:S,onChange:function(e){return x(e.target.value)}})),c.a.createElement("fieldset",{className:"form-group"},c.a.createElement("input",{className:"form-control form-control-lg",type:"email",placeholder:t("common.email"),value:m,onChange:function(e){return u(e.target.value)}})),c.a.createElement("fieldset",{className:"form-group"},c.a.createElement("input",{className:"form-control form-control-lg",type:"password",placeholder:t("common.password"),value:O,onChange:function(e){return j(e.target.value)}})),c.a.createElement("button",{className:"btn btn-lg btn-primary pull-xs-right",type:"submit",disabled:P},r)))))))},A=function(){var e=Object(i.b)().t;return c.a.createElement("div",{style:{display:"flex",justifyContent:"center",padding:"200px 0"}},c.a.createElement("h2",null,e("common.pageNotFound")))},I=function(e){var t=e.location,a=e.match.params.slug,r=C(t.search),l=r.currentPage,o=r.offset,s=Object(L.stringify)({limit:10,offset:o,tag:a}),i="".concat(N.articles,"?").concat(s),m=b(i),u=Object(f.a)(m,2),E=u[0],d=E.response,g=E.isLoading,p=E.error,v=u[1],O=Object(n.useContext)(y),j=Object(f.a)(O,1)[0];return Object(n.useEffect)((function(){v()}),[v,l,a]),c.a.createElement("div",{className:"home-page"},!1===j.isLoggedIn&&c.a.createElement(ie,null),c.a.createElement("div",{className:"container page"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-9"},c.a.createElement(le,{tagName:a}),g&&c.a.createElement(ce,{className:"article-preview"}),p&&c.a.createElement(re,{className:"article-preview"}),!g&&d&&c.a.createElement(c.a.Fragment,null,c.a.createElement(X,{articles:d.articles}),c.a.createElement(ae,{total:d.articlesCount,limit:10,currentPage:l}))),c.a.createElement("div",{className:"col-md-3"},c.a.createElement(ne,null)))))},T=function(e){var t=e.location,a=C(t.search),r=a.currentPage,l=a.offset,o=Object(L.stringify)({limit:10,offset:l}),s="".concat(N.feed,"?").concat(o),i=b(s),m=Object(f.a)(i,2),u=m[0],E=u.response,d=u.isLoading,g=u.error,p=m[1];return Object(n.useEffect)((function(){p()}),[p,r]),c.a.createElement("div",{className:"home-page"},c.a.createElement("div",{className:"container page"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-9"},c.a.createElement(le,null),d&&c.a.createElement(ce,{className:"article-preview"}),g&&c.a.createElement(re,{className:"article-preview"}),!d&&E&&c.a.createElement(c.a.Fragment,null,c.a.createElement(X,{articles:E.articles}),c.a.createElement(ae,{total:E.articlesCount,limit:10,currentPage:r}))),c.a.createElement("div",{className:"col-md-3"},c.a.createElement(ne,null)))))},D={title:"",description:"",body:"",tagList:[]},R=function(){var e=N.articles,t=b(e),a=Object(f.a)(t,2),r=a[0],l=r.response,o=r.error,s=a[1],i=Object(n.useState)(!1),m=Object(f.a)(i,2),u=m[0],g=m[1];return Object(n.useEffect)((function(){l&&g(!0)}),[l]),u?c.a.createElement(d.a,{to:"".concat(E.articles,"/").concat(l.article.slug)}):c.a.createElement("div",null,c.a.createElement(oe,{initialValues:D,onSubmit:function(e){s({method:"post",data:{article:e}})},errors:o&&o.errors||{}}))},H=function(e){var t=e.match.params.slug,a="".concat(E.articles,"/").concat(t),r=b(a),l=Object(f.a)(r,2),o=l[0].response,s=l[1],i=b(a),m=Object(f.a)(i,2),u=m[0],g=u.response,p=u.error,v=m[1],O=Object(n.useState)(null),j=Object(f.a)(O,2),h=j[0],y=j[1],w=Object(n.useState)(!1),S=Object(f.a)(w,2),x=S[0],L=S[1];return Object(n.useEffect)((function(){s()}),[s]),Object(n.useEffect)((function(){o&&y({title:o.article.title,description:o.article.description,body:o.article.body,tagList:o.article.tagList})}),[o]),Object(n.useEffect)((function(){g&&L(!0)}),[g]),x?c.a.createElement(d.a,{to:"".concat(N.articles,"/").concat(t)}):c.a.createElement("div",null,c.a.createElement(oe,{onSubmit:function(e){v({method:"put",data:{article:e}})},errors:p&&p.errors||{},initialValues:h}))},G=function(){var e=Object(i.b)().t,t=Object(n.useContext)(y),a=Object(f.a)(t,2),r=a[0],l=a[1],o=N.currentUser,s=b(o),m=Object(f.a)(s,2),u=m[0],E=u.response,d=u.error,p=m[1],O=Object(n.useState)(""),j=Object(f.a)(O,2),h=j[0],w=j[1],S=Object(n.useState)(""),x=Object(f.a)(S,2),L=x[0],k=x[1],C=Object(n.useState)(""),P=Object(f.a)(C,2),U=P[0],F=P[1],A=Object(n.useState)(""),I=Object(f.a)(A,2),T=I[0],D=I[1],R=Object(n.useState)(""),H=Object(f.a)(R,2),G=H[0],M=H[1],V=v("token"),Z=Object(f.a)(V,2)[1];return Object(n.useEffect)((function(){r.currentUser&&(w(r.currentUser.image),k(r.currentUser.username),F(r.currentUser.bio),D(r.currentUser.email))}),[r.currentUser]),Object(n.useEffect)((function(){E&&l({type:"SET_AUTHORIZED",payload:E.user})}),[l,E]),c.a.createElement("div",{className:"settings-page"},c.a.createElement("div",{className:"container page"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-6 offset-md-3 col-xs-12"},c.a.createElement("h1",{className:"text-xs-center"},e("settings.title")),d&&c.a.createElement(K,{backendErrors:d.errors}),c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),p({method:"put",data:{user:Object(g.a)(Object(g.a)({},r.currentUser),{},{image:h,username:L,bio:U,email:T,password:G})}})}},c.a.createElement("fieldset",null,c.a.createElement("fieldset",{className:"form-group"},c.a.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:e("settings.profilePicturePlaceholder"),value:h,onChange:function(e){return w(e.target.value)}}))),c.a.createElement("fieldset",null,c.a.createElement("fieldset",{className:"form-group"},c.a.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:e("common.username"),value:L,onChange:function(e){return k(e.target.value)}}))),c.a.createElement("fieldset",null,c.a.createElement("fieldset",{className:"form-group"},c.a.createElement("textarea",{className:"form-control form-control-lg",rows:"8",placeholder:e("settings.bioPlaceholder"),value:U,onChange:function(e){return F(e.target.value)}}))),c.a.createElement("fieldset",null,c.a.createElement("fieldset",{className:"form-group"},c.a.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:e("common.email"),value:T,onChange:function(e){return D(e.target.value)}}))),c.a.createElement("fieldset",null,c.a.createElement("fieldset",{className:"form-group"},c.a.createElement("input",{type:"password",className:"form-control form-control-lg",placeholder:e("common.password"),value:G,onChange:function(e){return M(e.target.value)}}))),c.a.createElement("fieldset",null,c.a.createElement("button",{className:"btn btn-lg btn-primary pull-xs-right"},e("settings.update")))),c.a.createElement("hr",null),c.a.createElement("button",{className:"btn btn-outline-danger",onClick:function(e){e.preventDefault(),Z(""),l({type:"LOGOUT"})}},e("settings.logout"))))))},M=function(e){var t=e.profile,a=t.image,n=t.username,r=t.bio;return c.a.createElement("div",{className:"profile-page"},c.a.createElement("div",{className:"user-info"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-xs-12 col-md-10 offset-md-1"},c.a.createElement("img",{alt:"",className:"user-img",src:a}),c.a.createElement("h4",null,n),c.a.createElement("p",null,r))))))},V=function(e){var t=e.username,a=Object(i.b)().t;return c.a.createElement("div",{className:"articles-toggle"},c.a.createElement("ul",{className:"nav nav-pills outline-active"},c.a.createElement("li",{className:"nav-item"},c.a.createElement(o.c,{className:"nav-link",to:"".concat(E.profiles,"/").concat(t),exact:!0},a("profile.posts"))),c.a.createElement("li",{className:"nav-item"},c.a.createElement(o.c,{className:"nav-link",to:"".concat(E.profiles,"/").concat(t,"/").concat("favorites")},a("profile.favorites")))))},Z=function(e){var t=e.username,a=e.location,r=e.isFavorites,l=e.url,o=C(a.search),s=o.offset,i=o.currentPage,m=function(e){var t=e.username,a=e.offset,n=e.isFavorites?{limit:10,offset:a,favorited:t}:{limit:10,offset:a,author:t};return"".concat(N.articles,"?").concat(Object(L.stringify)(n))}({username:t,offset:s,isFavorites:r}),u=b(m),E=Object(f.a)(u,2),d=E[0],g=d.response,p=d.isLoading,v=d.error,O=E[1];return Object(n.useEffect)((function(){O()}),[O,r]),c.a.createElement("div",null,p&&c.a.createElement(ce,{className:"article-preview"}),v&&c.a.createElement(re,{className:"article-preview"}),!p&&g&&c.a.createElement(c.a.Fragment,null,c.a.createElement(X,{articles:g.articles}),c.a.createElement(ae,{total:g.articlesCount,limit:10,url:l,currentPage:i})))},_=function(e){var t=e.location,a=e.match,r=a.params.slug,l=t.pathname.includes("favorites"),o="".concat(N.profiles,"/").concat(r),s=b(o),i=Object(f.a)(s,2),m=i[0].response,u=i[1];return Object(n.useEffect)((function(){u()}),[u]),m?c.a.createElement("div",{className:"profile-page"},c.a.createElement(M,{profile:m.profile}),c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-xs-12 col-md-10 offset-md-1"},c.a.createElement(V,{username:m.profile.username}),c.a.createElement(Z,{username:m.profile.username,location:t,isFavorites:l,url:a.url}))))):null},B=function(e){var t=e.children,a=b(N.currentUser),c=Object(f.a)(a,2),r=c[0].response,l=c[1],o=Object(n.useContext)(y),s=Object(f.a)(o,2)[1],i=v("token"),m=Object(f.a)(i,1)[0];return Object(n.useEffect)((function(){m?(s({type:"LOADING"}),l()):s({type:"SET_UNAUTHORIZED"})}),[s,l,m]),Object(n.useEffect)((function(){r&&s({type:"SET_AUTHORIZED",payload:r.user})}),[s,r]),t},Y=a(46),z=["component"],J=function(e){var t=e.component,a=Object(Y.a)(e,z),r=Object(n.useContext)(y),l=Object(f.a)(r,1)[0];return c.a.createElement(d.b,Object.assign({},a,{render:function(e){return!1===l.isLoggedIn?c.a.createElement(d.a,{to:E.main}):c.a.createElement(t,e)}}))},W=function(){return c.a.createElement(d.d,null,c.a.createElement(d.b,{path:E.main,component:P,exact:!0}),c.a.createElement(d.b,{path:"".concat(E.profiles,"/:slug"),component:_,exact:!0}),c.a.createElement(d.b,{path:"".concat(E.profiles,"/:slug/").concat("favorites"),component:_,exact:!0}),c.a.createElement(J,{path:E.settings,component:G}),c.a.createElement(J,{path:E.newArticle,component:R}),c.a.createElement(J,{path:"".concat(E.articles,"/:slug/").concat("edit"),component:H}),c.a.createElement(J,{path:E.feed,component:T}),c.a.createElement(d.b,{path:"".concat(E.tags,"/:slug"),component:I}),c.a.createElement(d.b,{path:E.login,component:F}),c.a.createElement(d.b,{path:E.register,component:F}),c.a.createElement(d.b,{path:"".concat(E.articles,"/:slug"),component:x}),!1,c.a.createElement(d.b,{path:"*",component:A}))},q=function(){var e=Object(i.b)().t,t=Object(n.useContext)(y),a=Object(f.a)(t,1)[0],r=a.isLoggedIn,l=a.currentUser;return c.a.createElement("nav",{className:"navbar navbar-light"},c.a.createElement("div",{className:"container"},c.a.createElement("h1",null,c.a.createElement(o.b,{to:E.main,className:"navbar-brand"},"Medium")),c.a.createElement("ul",{className:"nav navbar-nav pull-xs-right"},c.a.createElement("li",{className:"nav-item"},c.a.createElement(o.c,{exact:!0,to:E.main,className:"nav-link"},e("common.home"))),!1===r&&c.a.createElement(c.a.Fragment,null,c.a.createElement("li",{className:"nav-item"},c.a.createElement(o.c,{to:E.login,className:"nav-link"},e("common.signIn"))),c.a.createElement("li",{className:"nav-item"},c.a.createElement(o.c,{to:E.register,className:"nav-link"},e("common.signUp")))),r&&c.a.createElement(c.a.Fragment,null,c.a.createElement("li",{className:"nav-item"},c.a.createElement(o.c,{to:E.newArticle,className:"nav-link"},c.a.createElement("i",{className:"ion-compose"}),"\xa0 ",e("common.newPost"))),c.a.createElement("li",{className:"nav-item"},c.a.createElement(o.c,{to:E.settings,className:"nav-link"},c.a.createElement("i",{className:"ion-gear-a"}),"\xa0 ",e("common.settings"))),c.a.createElement("li",{className:"nav-item"},c.a.createElement(o.c,{to:"".concat(E.profiles,"/").concat(l.username),className:"nav-link"},c.a.createElement("img",{className:"user-pic",src:l.image,alt:""}),"\xa0 ",l.username))))))},K=function(e){var t=e.backendErrors,a=Object.entries(t).map((function(e){var t=Object(f.a)(e,2),a=t[0],n=t[1];return"".concat(a," ").concat(n.join(" "))}));return c.a.createElement("ul",{className:"error-messages"},a.map((function(e){return c.a.createElement("li",{key:e},e)})))},Q=function(e){var t=e.article,a=t.author,r=t.createdAt,l=t.slug,s=t.title,m=t.description,u=t.tagList,d=t.favorited,g=t.favoritesCount,p=Object(i.b)().t,b=Object(n.useContext)(y),v=Object(f.a)(b,1)[0];return c.a.createElement("div",{className:"article-preview"},c.a.createElement("div",{className:"article-meta"},c.a.createElement(o.b,{to:"".concat(E.profiles,"/").concat(a.username)},c.a.createElement("img",{src:a.image,alt:""})),c.a.createElement("div",{className:"info"},c.a.createElement(o.b,{to:"".concat(E.profiles,"/").concat(a.username),className:"author"},a.username),c.a.createElement("span",{className:"date"},new Date(r).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric"}))),v.isLoggedIn&&c.a.createElement("div",{className:"pull-xs-right"},c.a.createElement(se,{isFavorite:d,favoritesCount:g,articleSlug:l}))),c.a.createElement(o.b,{to:"".concat(E.articles,"/").concat(l),className:"preview-link"},c.a.createElement("h1",null,s),c.a.createElement("p",null,m),c.a.createElement("span",null,p("common.readMore")),c.a.createElement(O,{tags:u})))},X=function(e){var t=e.articles,a=Object(i.b)().t;return c.a.createElement("div",null,0===t.length&&c.a.createElement("div",{className:"article-preview"},a("common.noArticlesYet")),t.map((function(e,t){return c.a.createElement(Q,{article:e,key:t})})))},$=a(30),ee=a.n($),te=function(e){var t=e.page,a=e.currentPage,n=e.url,r=ee()({"page-item":!0,active:a===t}),l="page=".concat(t),s=n?"".concat(n,"?").concat(l):function(e){return"".concat(e.pathname,"?").concat(l)};return c.a.createElement("li",{className:r},c.a.createElement(o.b,{to:s,className:"page-link"},t))},ae=function(e){var t,a,n=e.total,r=e.limit,l=e.url,o=e.currentPage,s=Math.ceil(n/r),i=(t=1,a=s,Object(k.a)(Array(a-t+1).keys()).map((function(e){return e+t})));return c.a.createElement("ul",{className:"pagination"},i.map((function(e){return c.a.createElement(te,{key:e,page:e,currentPage:o,url:l})})))},ne=function(){var e=Object(i.b)().t,t=b(N.tags),a=Object(f.a)(t,2),r=a[0],l=r.response,s=r.isLoading,m=r.error,u=a[1];return Object(n.useEffect)((function(){u()}),[u]),c.a.createElement("div",{className:"sidebar"},c.a.createElement("p",null,e("common.popularTags")),s&&c.a.createElement(ce,null),m&&c.a.createElement(re,null),l&&c.a.createElement("div",{className:"tag-list"},l.tags.map((function(e){return c.a.createElement(o.b,{key:e,to:"".concat(E.tags,"/").concat(e),className:"tag-default tag-pill"},e)}))))},ce=function(e){var t=Object(i.b)().t;return c.a.createElement("div",e,t("common.loading"))},re=function(e){var t=Object(i.b)().t;return c.a.createElement("div",e,t("errors.general"))},le=function(e){var t=e.tagName,a=Object(i.b)().t,r=Object(n.useContext)(y),l=Object(f.a)(r,1)[0];return c.a.createElement("div",{className:"feed-toggle"},c.a.createElement("ul",{className:"nav nav-pills outline-active"},l.isLoggedIn&&c.a.createElement("li",{className:"nav-item"},c.a.createElement(o.c,{to:E.feed,className:"nav-link"},a("common.yourFeed"))),c.a.createElement("li",{className:"nav-item"},c.a.createElement(o.c,{to:E.main,className:"nav-link",exact:!0},a("common.globalFeed"))),t&&c.a.createElement("li",{className:"nav-item"},c.a.createElement(o.c,{to:"".concat(E.tags,"/").concat(t),className:"nav-link"},c.a.createElement("i",{className:"ion-pound"}),"\xa0",t))))},oe=function(e){var t=e.onSubmit,a=e.errors,r=e.initialValues,l=Object(i.b)().t,o=Object(n.useState)(""),s=Object(f.a)(o,2),m=s[0],u=s[1],E=Object(n.useState)(""),d=Object(f.a)(E,2),g=d[0],p=d[1],b=Object(n.useState)(""),v=Object(f.a)(b,2),N=v[0],O=v[1],j=Object(n.useState)(""),h=Object(f.a)(j,2),y=h[0],w=h[1];return Object(n.useEffect)((function(){r&&(u(r.title),O(r.description),p(r.body),w(r.tagList.join(" ")))}),[r]),c.a.createElement("div",{className:"editor-page"},c.a.createElement("div",{className:"container page"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-10 offset-md-1 col-xs-12"},a&&c.a.createElement(K,{backendErrors:a}),c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t({title:m,description:N,body:g,tagList:y.length>0?y.split(" "):[]})}},c.a.createElement("fieldset",null,c.a.createElement("fieldset",{className:"form-group"},c.a.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:l("articleForm.titlePlaceholder"),value:m,onChange:function(e){return u(e.target.value)}})),c.a.createElement("fieldset",{className:"form-group"},c.a.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:l("articleForm.descriptionPlaceholder"),value:N,onChange:function(e){return O(e.target.value)}})),c.a.createElement("fieldset",{className:"form-group"},c.a.createElement("textarea",{className:"form-control",rows:"8",placeholder:l("articleForm.bodyPlaceholder"),value:g,onChange:function(e){return p(e.target.value)}})),c.a.createElement("fieldset",{className:"form-group"},c.a.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:l("articleForm.tagListPlaceholder"),value:y,onChange:function(e){return w(e.target.value)}})),c.a.createElement("fieldset",{className:"form-group"},c.a.createElement("button",{type:"submit",className:"btn btn-lg pull-xs-right btn-primary"},l("articleForm.submitButton")))))))))},se=function(e){var t=e.isFavorite,a=e.favoritesCount,n=e.articleSlug,r="".concat(E.articles,"/").concat(n,"/favorite"),l=b(r),o=Object(f.a)(l,2),s=o[0].response,i=o[1],m=s?s.article.favoritesCount:a,u=s?s.article.favorited:t,d=ee()({btn:!0,"btn-sm":!0,"btn-primary":u,"btn-outline-primary":!u});return c.a.createElement("button",{className:d,onClick:function(e){e.preventDefault(),i({method:u?"delete":"post"})}},c.a.createElement("i",{className:"ion-heart"}),c.a.createElement("span",null,"\xa0 ",m))},ie=function(){var e=Object(i.b)().t;return c.a.createElement("div",{className:"banner"},c.a.createElement("div",{className:"container"},c.a.createElement("h1",null,e("globalFeed.bannerTitle")),c.a.createElement("p",null,e("globalFeed.bannerDescription"))))},me=o.a,ue=function(){return c.a.createElement(w,null,c.a.createElement(B,null,c.a.createElement(me,null,c.a.createElement(q,null),c.a.createElement(W,null))))};l.a.createRoot(document.getElementById("root")).render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(ue,null)))}},[[47,1,2]]]);
//# sourceMappingURL=main.45dcf910.chunk.js.map